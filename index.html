<!DOCTYPE html>

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<title id="TAB-NAME">Bytebeat Composer</title>
	<link rel="canonical" href="https://chasyxx.github.io/EnBeat_NEW"/>
	<link rel="shortcut icon" href="./IMG_8941.ico">
	<link rel="stylesheet" type="text/css" href="bytebeat.css?version=2023022000">
	<link rel="modulepreload" href="./scripts/audioProcessor.mjs?version=2023022000">
	<script type="module" async src="./scripts/bytebeat.mjs?version=2023022000"></script>
	<script type="module" async src="menus.js"></script>
</head>
<body>
	<!--p align="center" style="color: #FFFF00; font-size: 12px">This is not the dollChan player! That's <a href="https://dollchan.net/bytebeat/">this one.</a><br>Still, credit to SthephanShi for making the original site!</p>
	<p id="splash" align="center" style="color: #00FFFF; font-size: 12px">MissingNo, but it's <i>true!</i></p-->
		<div id="log"></div>
	<main id="content">
		<section id="container-fixed">
			<div id="editor-container">
				<textarea  id="editor-default" spellcheck="false">//GFLJBEAT2
//Fork of emelchenko aka T-8492's bytebeat composer
//Forked by GFLJS2100-user
songs=[sin((t&t>>7)*PI/128)*127+127|cos((t)*PI/128)*127+127,400*cbrt(t%16384),sin(t/16384*(t&t>>13)*PI/128)*127+127,sin(t/162)*127+127,random()*255&-t>>6,sin(t/162)*30],

songs[0]%256/5+
songs[1]%256/5+
songs[2]%256/5+
songs[3]%256/5+
songs[4]%256/5+
songs[5]%256/5</textarea>
			</div>
			<div class="controls" id="controls0">
				<div class="controls-group controls-grow">
					<button id="control-counter-units" class="control-button" title="Time units">t</button>
					<input type="text" id="control-counter" value="0" title="Set time to jump along the timeline then press Enter">
				</div>
				<div class="controls-group">
					<button id="control-stop" class="control-button" title="Stop and reset">
						<svg><use xlink:href="#symbol-stop"></use></svg>
					</button>
					<button id="control-reset" class="control-button" title="Reset time to 0">
						<svg><use xlink:href="#symbol-reset"></use></svg>
					</button>
				</div>
				<div class="controls-group">
					<button id="control-play-backward" class="control-button control-play" title="Play reverse">
						<span class="control-fast-multiplier">1</span>
						<svg class="svg-fast"><use xlink:href="#symbol-fast"></use></svg>
						<svg class="svg-play"><use xlink:href="#symbol-play"></use></svg>
					</button>
					<button id="control-pause" class="control-button" title="Pause">
						<svg><use xlink:href="#symbol-pause"></use></svg>
					</button>
					<button id="control-play-forward" class="control-button control-play" title="Play forward">
						<span class="control-fast-multiplier">1</span>
						<svg class="svg-fast"><use xlink:href="#symbol-fast"></use></svg>
						<svg class="svg-play"><use xlink:href="#symbol-play"></use></svg>
					</button>
				</div>
				<div class="controls-group">
					<button id="control-scaledown" class="control-button" title="Zoom in the scope">
						<svg><use xlink:href="#symbol-scaledown"></use></svg>
					</button>
					<div id ="scale-indicator" class="control-indicator tube text-padding">N/A</div>
					<button id="control-scaleup" class="control-button" title="Zoom out the scope">
						<svg><use xlink:href="#symbol-scaleup"></use></svg>
					</button>
				</div>
				<select id="control-drawmode" class="control-select controls-grow" title="Drawing mode">
					<option class="song-options" value="Points" selected>Points</option>
					<option class="song-options" value="Waveform"		>Waveform</option>
					<option class="song-options" value="Diagram" 		>Diagram</option>
				</select>
				<div class="controls-group">
					<button id="control-rec" class="control-button" title="Record to the file">
						<svg><use xlink:href="#symbol-rec"></use></svg>
					</button>
					<button id="control-link" class="control-button" title="Copy the song link">
						<svg><use xlink:href="#symbol-link"></use></svg>
					</button>
					<button id="control-expand" class="control-button" title="Expand the code editor">
						<svg><use xlink:href="#symbol-expand"></use></svg>
					</button>
					<span id="control-codesize" title="Code size in characters"></span>
				</div>
				<div class="controls-group controls-grow">
					<input id="control-volume" type="range" min="0" max="1" value=".5" step="any" title="Volume">
				</div>
				<select id="control-menu-select" class="control-select" title="Control menus" onchange="MAT.changeMenu(this.value)">
					<option class="song-options"  value="1" title="MODE, SAMPLERATE, DIVISOR" selected>MENU 1 - SONG OPTIONS</option>
					<option class="song-options"  value="2">MENU 2 - TRANSFORMATIONS</option>
					<option class="song-options"  value="3">MENU 3 - DETAILS</option>
					<!--option value="2" title="MENU 2- TEST">MENU 2 - TEST</option-->
				</select>
			</div>
			<div class="controls" id="controls1">
				<select id="control-mode" class="control-select controls-grow" title="Sound mode">
					<option class="song-options" value="Bytebeat" selected>Bytebeat</option>
					<option class="song-options"  value="Signed Bytebeat">Signed Bytebeat</option>
					<option class="song-options"  value="Floatbeat">Floatbeat</option>
					<option class="song-options"  value="Funcbeat">Funcbeat</option>
					<option class="song-options"  value="-2Func2beat">-2Func+2beat</option>
					<option class="song-options" value="Bitbeat" title="&quot;&amp;1&quot; view of code. Exotic mode.">Bitbeat</option>
					<option class="song-options"  value="2048" title="Wraps around at 2048 instead of 256. Exotic mode.">2048</option>
					<option class="song-options"  value="4080" title="Wraps around at 4080 instead of 256. Exotic mode.">4080</option>
					<option class="song-options"  value="8160" title="Wraps around at 8160 instead of 256. Exotic mode.">8160</option>
					<option class="song-options"  value="logmode" title="&quot;log2()*32&quot; view of code. Exotic mode.">Logmode</option>
					<option class="song-options"  value="logHack" title="Logmode, but suppourts negative numbers.">LogHack</option>
					<option class="song-options"  value="logHack2" title="LogHack, but 128 added. Multiplies by 16 instead. Especially exotic with numbers from -1 to 1.">LogHack2</option>
					<option class="song-options"  value="sinmode" title="&quot;sin()*32&quot; view of code. Exotic mode.">Sinmode</option>
					<option class="song-options"  value="tanmode" title="&quot;tan()*32&quot; view of code. Exotic mode.">Tanmode</option>
					<option class="song-options"  value="tanmodenew" title="&quot;tan()*32&quot; view of code. Exotic mode. New.">Tanmode (NEW)</option>
					<option class="song-options"  value="tanhmodenew" title="&quot;tanh()*32&quot; view of code. Exotic mode. New.">Tanhmode (NEW)</option>
					<option class="song-options"  value="atanmodenew" title="&quot;atan()*32&quot; view of code. Exotic mode. New.">Atanmode (NEW)</option>
					<option class="song-options"  value="sinmodeold" title="&quot;sin()*32&quot; view of code. Exotic mode. Old.">Sinmode (Old)</option>
					<option class="song-options"  value="cosmode" title="&quot;cos()*32&quot; view of code. Exotic mode.">Cosmode</option>
					<option class="song-options"  value="cosmodeold" title="&quot;cos()*32&quot; view of code. Exotic mode. Old.">Cosmode (Old)</option>
					<option class="song-options"  value="absmode" title="&quot;abs()*32&quot; view of code. Exotic mode.">Absmode</option>
					<option class="song-options"  value="cbrtmode" title="&quot;cbrt()*32&quot; view of code. Exotic mode.">Cbrtmode</option>
					<option class="song-options"  value="sinhmode" title="&quot;sinh()*32&quot; view of code. Exotic mode.">Sinhmode</option>
					<option class="song-options"  value="sinhmodeold" title="&quot;sinh()*32&quot; view of code. Exotic mode. Old.">Sinhmode (Old)</option>
					<option class="song-options"  value="asinmode" title="&quot;asin()*32&quot; view of code. Exotic mode.">Asinmode</option>
					<option class="song-options"  value="asinmodeold" title="&quot;asin()*32&quot; view of code. Exotic mode. Old.">Asinmode (Old)</option>
					<option class="song-options"  value="acosmode" title="&quot;acos()*32&quot; view of code. Exotic mode.">Acosmode</option>
					<option class="song-options"  value="acosmodeold" title="&quot;acos()*32&quot; view of code. Exotic mode. Old.">Acosmode (Old)</option>
					<option class="song-options"  value="coshmode" title="&quot;cosh()*32&quot; view of code. Exotic mode.">Coshmode</option>
					<option class="song-options"  value="coshmodeold" title="&quot;cosh()*32&quot; view of code. Exotic mode. Old.">Coshmode (Old)</option>
					<option class="song-options"  value="log10mode" title="&quot;log10()*32&quot; view of code. Exotic mode.">Log10mode</option>
					<option class="song-options"  value="sqrtmode" title="&quot;sqrt()*32&quot; view of code. Exotic mode.">Sqrtmode</option>
					<option class="song-options"  value="sinfmode" title="&quot;sinf()*32&quot; view of code. Exotic mode.">Sinfmode</option>
					<option class="song-options"  value="tanfmode" title="&quot;tanf()*32&quot; view of code. Exotic mode.">Tanfmode</option>
					<option class="song-options"  value="cosfmode" title="&quot;cosf()*32&quot; view of code. Exotic mode.">Cosfmode</option>
					<option class="song-options"  value="doublebeat">DoubleBeat</option>
					<option class="song-options"  value="nolimit">No Limit</option>
					<option class="song-options"  value="floatbeat2insteadof1">Floatbeat but replaced 1 with 2</option>
					<option class="song-options"  value="127beat">127Beat</option>
					<option class="song-options"  value="signednolimit">Signed No Limit</option>
					<option class="song-options" value="Byte&beat>>12" selected>Byte&beat>>12</option>
				</select>
				<div class="controls-group controls-grow">
					<input type="text" id="control-samplerate" title="Set sample rate (in Hz) then press Enter">
					<select id="control-samplerate-select" class="control-select" title="Sample rate">
						<option value="8000"  class="song-options">8000Hz</option>
						<option value="11025" class="song-options">11025Hz</option>
						<option value="15500" class="song-options">15500Hz (IBNIZ's sample rate)</option>
						<option value="16000" class="song-options">16000Hz</option>
						<option value="22050" class="song-options">22025Hz</option>
						<option value="32000" class="song-options">32000Hz</option>
						<option value="44100" class="song-options">44100Hz</option>
						<option value="48000" class="song-options">48000Hz</option>
					</select>
				</div>
				<div class="controls-group controls-grow" width="128">
					<input value="1" type="number" id="control-divisor" title="Set sample rate divisor then press Enter">
				</div>
				<button class="control-button text-padding" title="Formats code based off of commas and semicolons" onclick="MAT.commaFormat(false)">
					FORMAT , and ;
				</button>
			</div>
			<div class="controls hidden" id="controls2">
				<div class="controls-group">
					<input onchange="MAT.setParens(this.value)" type="number" id="control-parens" title="Maximum parentesies layers the Formatter will formatt" value="0">
				</div>
				<button id="control-format" class="control-button text-padding" title="Formats code based off of commas and semicolons" onclick="MAT.commaFormat(false)">
					FORMAT , and ;
				</button>
				<button id="control-minibake" class="control-button text-padding dark" title="Minibakes code" onclick="MAT.bake()">
					Minibake code
				</button>
				<button id="control-deminibake" class="control-button text-padding light" title="Deminibakes code" onclick="MAT.debake()">
					Deminibake code
				</button>
			</div>
			<div class="controls hidden" id="controls3">
				<input type="checkbox" onchange="MAT.switch(this.checked)">Toggle extra library buttons
			</div>
			<div id="error"></div>
			<div id="canvas-container" title="Click to play">
				<canvas id="canvas-main" width="1024" height="256"></canvas>
				<div id="canvas-timecursor"></div>
				<div id="canvas-play" class="canvas-initial canvas-play">
					<svg id="svg-canvas-play"><use xlink:href="#symbol-play"></use></svg>
					<svg id="svg-canvas-pause"><use xlink:href="#symbol-pause"></use></svg>
				</div>
			</div>
		</section>
		<section id="container-scroll">
			<details class="library-content">
				<summary class="library-header">
					<h1>Info &mdash; about bytebeat</h1>
				</summary>
				<article id="info" class="library-container entry-top">
					Bytebeat music (or one-liner music) was invented in September 2011.
					They're generally a piece of rhythmic and somewhat melodic music with no score, no instruments, and no real oscillators.
					It's simply a single-line formula that defines a waveform as a function of time, processed (usually) 8000 times per second, resulting in an audible waveform with a 256-step resolution from silence (0) to full amplitude (256).
					If you put that formula into a program with a loop that increments time variable (t), you can generate the headerless unsigned 8 bit mono 8kHz audio stream on output, like in this application.
					Since these directly output a waveform, they have great performance in compiled languages and can often be ran on even the weakest embedded devices.<br>
					<a href="http://canonical.org/~kragen/bytebeat/" target="_blank">History of bytebeat</a><br>
					<br>
					Original blog posts and videos from Viznut:<br>
					<a href="http://countercomplex.blogspot.com/2011/10/algorithmic-symphonies-from-one-line-of.html" target="_blank">Blog posts #1</a><br>
					<a href="http://countercomplex.blogspot.com.au/search/label/algorithmic%20music" target="_blank">Blog posts #2</a><br>
					<a href="https://www.youtube.com/watch?v=GtQdIYUtAHg" target="_blank">YouTube video #1</a><br>
					<a href="https://www.youtube.com/watch?v=qlrs2Vorw2Y" target="_blank">YouTube video #2</a><br>
					<a href="https://www.youtube.com/watch?v=tCRPUv8V22o" target="_blank">YouTube video #3</a><br>
					<br>
					This website is a live editing bytebeats player. It has a collection of bytebeat music I found on the internet, and also the music I created.<br>
					You can choose between bytebeat, signed bytebeat and floatbeat formats. Bytebeat expects output is an unsigned 8bit value (0 to 255). Signed bytebeat assumes output is a signed 8bit value (-127 to 128). Floatbeat assumes output is -1.0 to 1.0.<br>
					<br>
					This website is the fork of <a href="http://t-8492.github.io/bbeat2/" target="_blank">Bytebeat composer</a> by <a href="http://github.com/T-8492" target="_blank">T-8492.</a>.<br>
					Forked by GFLJS2100 aka GFLJS2100-user.
					<br><br>
					This website is the fork of <a href="http://chasyxx.github.io/EnBeat_NEW/" target="_blank">Bytebeat composer</a> by <a href="http://github.com/Chasyxx" target="_blank">Chasyxx.</a>.<br>
					Forked by emelchenko aka T aka T-8492.
					<br><br>
					This website is the fork of <a href="http://dollchan.net/bytebeat" target="_blank">Bytebeat composer</a> by <a href="http://Github.com/SthephanShinkufag" target="_blank">StephanShi.</a>.<br>
					Forked by Chase T aka Chasyxx.
					<br><br>
					ShephShi's website is the fork of <a href="http://entropedia.co.uk/generative_music/" target="_blank">8-bit Generative Composer</a> by <a href="http://twitter.com/paul_hayes/" target="_blank">@paul_hayes</a>.<br>
					Forked by SthephanShi aka Viraya.
					<br><br>
					Custom functions include: <ul>
						<li>bitC: <b>(X,Y,Z)</b> => <i>X</i>&amp;<i>Y</i>?<i>Z</i>:0</li>
						<li>br: <b>(T,SIZE)</b> => Bit reverses <i>SIZE</i> bits of <i>T</i>, discards the other bits</li>
						<li><b><i>sinf, cosf, tanf</i>: (X)</b> => <i>sin, cos, tan</i> but inputting t will output the same freqency as t by itself.</li>
						<li>regG: <b>(T,regEx)</b> => takes a string of <i>T</i>'s bits, and tests against <i>regEx</i> for a match. Outputs a boolean.</li>
					</ul>
				</article>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Publiched &mdash; random codes from various sources</h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-publiched" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Classic &mdash; C compatible code with one variable (t)</h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-classic" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Compact JS &mdash; compact JavaScript code</h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-compact-js" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Big JS &mdash; big JavaScript code</h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-big-js" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Floatbeat &mdash; assumes output is -1.0 to 1.0<h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-floatbeat" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Funcbeat &mdash; statement based<h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"></svg>
				</summary>
				<div id="library-funcbeat" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>SthephanShi &mdash; code SthephanShi created</h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="sthephanshi" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Chasyxx &mdash; code Chasyxx created<h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-chasyxx" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>Emelchenko &mdash; code Emelchenko created<h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-code-emelchenko-created" class="library-container"></div>
			</details>
			<details class="library-content">
				<summary class="library-header">
					<h1>GFLJS2100 &mdash; code GFLJS2100 created<h1>
					<svg class="loading-wait hidden"><use xlink:href="#symbol-wait"/></svg>
				</summary>
				<div id="library-code-gfljs2100-created" class="library-container"></div>
			</details>
			<details class="library-content hidden optionalEntry">
				<summary class="library-header">
					<h1>Pouet &mdash; Pouet threads</h1>
				</summary>
				<article id="info" class="library-container entry-top">
					<p>This is the main bytebeat thread. Wurstcaptures links are broken, so copy them and put them in the tools to get your codes.</p>
					<iframe src="https://www.pouet.net/topic.php?which=8357" style="width: 100%" height="256"></iframe>
					<a href="https://www.pouet.net/topic.php?which=8357">Page link</a>
				</article>
			</details>
			<details class="library-content hidden optionalEntry">
				<summary class="library-header">
					<h1>Tools &mdash; ChyxTools</h1>
				</summary>
				<article id="info" class="library-container entry-top">
					<iframe src="https://chasyxx.github.io/ChyxTools/" style="width: 100%" height="256"></iframe>
				</article>
			</details>
			<details class="library-content hidden optionalEntry">
				<summary class="library-header">
					<h1>Bemmu's composer &mdash; Is it C compatible or compact JS?</h1>
				</summary>
				<article id="info" class="library-container entry-top">
					<iframe src="https://www.bemmu.com/music/index.html" style="width: 100%" height="256"></iframe>
				</article>
			</details>
			<footer>
				<a class="link" href="https://dollchan.net/btb" title="Dollchan discussion threads" target="_blank">&gt;&gt; Dollchan Discussion threads</a><br>
				<a class="link" href="https://github.com/gfljs2100-user/gfljbeat2" title="Github repository" target="_blank">&gt;&gt; Github</a>
				<br>
				<script type="text/javascript">var year = new Date();document.write(year.getFullYear());</script> GiraffeFamilyLifeJungleSimOmegaFrogFile2100
			</footer>
		</section>
	</main>

	<!-- SVG BUTTONS -->
	<div id="svg-icons" style="height: 0; width: 0; overflow: hidden;">
		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<symbol viewBox="0 0 32 32" id="symbol-play">
				<path d="m23 14.3-9-5.2c-1.3-.8-3 .2-3 1.7v10.4c0 1.5 1.7 2.5 3 1.7l9-5.2c1.3-.7 1.3-2.7 0-3.4z"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-fast">
				<path d="M17.3 11.7v8.6c0 1.7 2 2.6 3.3 1.5l5.3-4.3c1-.8 1-2.3 0-3.1l-5.3-4.3c-1.3-1-3.3-.1-3.3 1.6"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-pause">
				<path d="M12.5 23c-1.1 0-2-.9-2-2V11c0-1.1.9-2 2-2s2 .9 2 2v10c0 1.1-.9 2-2 2zm7 0c-1.1 0-2-.9-2-2V11c0-1.1.9-2 2-2s2 .9 2 2v10c0 1.1-.9 2-2 2z"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-stop">
				<path d="M20.3 22.3h-8.5c-1.1 0-2-.9-2-2v-8.5c0-1.1.9-2 2-2h8.5c1.1 0 2 .9 2 2v8.5c0 1.1-.9 2-2 2z"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-reset">
				<path d="M11.8 22.3c-1.1 0-2-.9-2-2v-8.5c0-1.1.9-2 2-2s2 .9 2 2v8.5c0 1.1-.9 2-2 2zm10.5-10.6v8.6c0 1.7-2 2.6-3.3 1.6l-5.3-4.3c-1-.8-1-2.3 0-3.1l5.3-4.3c1.3-1.1 3.3-.2 3.3 1.5z"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-rec">
				<circle cx="16" cy="16" r="6.3"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-scaledown">
				<path d="M16.5 24h-1c-1.1 0-2-.9-2-2V10c0-1.1.9-2 2-2h1c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2zM8 16.5v-1c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v1c0 1.1-.9 2-2 2H10c-1.1 0-2-.9-2-2z"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-scaleup">
				<path d="M8 16.5v-1c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v1c0 1.1-.9 2-2 2H10c-1.1 0-2-.9-2-2z"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-link">
				<path d="M17 22.5H8c-1.7 0-3-1.3-3-3v-4c0-1.7 1.3-3 3-3h2v3H9c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h7c.6 0 1-.4 1-1V15h3v4.5c0 1.7-1.3 3-3 3zm7-3h-2v-3h1c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-7c-.6 0-1 .4-1 1V17h-3v-4.5c0-1.7 1.3-3 3-3h9c1.7 0 3 1.3 3 3v4c0 1.7-1.3 3-3 3z"/>
			</symbol>
			<symbol viewBox="0 0 32 32" id="symbol-expand">
				<path d="M10.5 7.5H13c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5h-2.5V13c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5v-2.5c0-1.7 1.3-3 3-3zm11 17H19c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h2.5V19c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v2.5c0 1.7-1.3 3-3 3zm3-14V13c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5v-2.5H19c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h2.5c1.7 0 3 1.3 3 3zm-17 11V19c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v2.5H13c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5h-2.5c-1.7 0-3-1.3-3-3z"/>
			</symbol>
			<symbol viewBox="0 0 16 16" id="symbol-wait">
				<circle fill="#929087" cx="8" cy="2" r="2"/>
				<circle fill="#C5C2BA" cx="8" cy="14" r="2"/>
				<circle fill="#ACAAA0" cx="2" cy="8" r="2"/>
				<circle fill="#79766C" cx="14" cy="8" r="2"/>
				<circle fill="#D2CFC6" cx="12.25" cy="12.25" r="2"/>
				<circle fill="#9F9C93" cx="3.75" cy="3.75" r="2"/>
				<circle fill="#B9B6AE" cx="3.75" cy="12.25" r="2"/>
				<circle fill="#868379" cx="12.25" cy="3.75" r="2"/>
			</symbol>
		</svg>
	</div>
<script>
  // register ServiceWorker, remember to use absolute path!
  if (navigator.serviceWorker) {
    navigator.serviceWorker.register('/{repository}/sw.js', {scope: '/{repository}/'})
  }
  
  // --- Application code here ---
	var APP_PREFIX = 'ApplicationName_'     // Identifier for this app (this needs to be consistent across every cache update)
var VERSION = 'version_01'              // Version of the off-line cache (change this value everytime you want to update cache)
var CACHE_NAME = APP_PREFIX + VERSION
var URLS = [                            // Add URL you want to cache in this list.
  '/{repository}/',                     // If you have separate JS/CSS files,
  '/{repository}/index.html'            // add path to those files here
]

// Respond with cached resources
self.addEventListener('fetch', function (e) {
  console.log('fetch request : ' + e.request.url)
  e.respondWith(
    caches.match(e.request).then(function (request) {
      if (request) { // if cache is available, respond with cache
        console.log('responding with cache : ' + e.request.url)
        return request
      } else {       // if there are no cache, try fetching request
        console.log('file is not cached, fetching : ' + e.request.url)
        return fetch(e.request)
      }

      // You can omit if/else for console.log & put one line below like this too.
      // return request || fetch(e.request)
    })
  )
})

// Cache resources
self.addEventListener('install', function (e) {
  e.waitUntil(
    caches.open(CACHE_NAME).then(function (cache) {
      console.log('installing cache : ' + CACHE_NAME)
      return cache.addAll(URLS)
    })
  )
})

// Delete outdated caches
self.addEventListener('activate', function (e) {
  e.waitUntil(
    caches.keys().then(function (keyList) {
      // `keyList` contains all cache names under your username.github.io
      // filter out ones that has this app prefix to create white list
      var cacheWhitelist = keyList.filter(function (key) {
        return key.indexOf(APP_PREFIX)
      })
      // add current cache name to white list
      cacheWhitelist.push(CACHE_NAME)

      return Promise.all(keyList.map(function (key, i) {
        if (cacheWhitelist.indexOf(key) === -1) {
          console.log('deleting cache : ' + keyList[i] )
          return caches.delete(keyList[i])
        }
      }))
    })
  )
})
  </script>
</body>
</html>
